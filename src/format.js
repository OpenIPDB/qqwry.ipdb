const isos = {
  '中国': {
    '北京': ['北京'],
    '天津': ['天津'],
    '河北': ['石家庄', '唐山', '秦皇岛', '邯郸', '邢台', '保定', '张家口', '承德', '沧州', '廊坊', '衡水'],
    '山西': ['太原', '大同', '阳泉', '长治', '晋城', '朔州', '晋中', '运城', '忻州', '临汾', '吕梁'],
    '内蒙古': ['呼和浩特', '包头', '乌海', '赤峰', '通辽', '鄂尔多斯', '呼伦贝尔', '巴彦淖尔', '乌兰察布', '兴安盟', '锡林郭勒盟', '阿拉善盟'],
    '辽宁': ['沈阳', '大连', '鞍山', '抚顺', '本溪', '丹东', '锦州', '营口', '阜新', '辽阳', '盘锦', '铁岭', '朝阳', '葫芦岛'],
    '吉林': ['长春', '吉林市', '四平', '辽源', '通化', '白山', '松原', '白城', '延边州'],
    '黑龙江': ['哈尔滨', '齐齐哈尔', '鸡西', '鹤岗', '双鸭山', '大庆', '伊春', '佳木斯', '七台河', '牡丹江', '黑河', '绥化', '大兴安岭地区'],
    '上海': ['上海'],
    '江苏': ['南京', '无锡', '徐州', '常州', '苏州', '南通', '连云港', '淮安', '盐城', '扬州', '镇江', '泰州', '宿迁'],
    '浙江': ['杭州', '宁波', '温州', '嘉兴', '湖州', '绍兴', '金华', '衢州', '舟山', '台州', '丽水'],
    '安徽': ['合肥', '芜湖', '蚌埠', '淮南', '马鞍山', '淮北', '铜陵', '安庆', '黄山', '滁州', '阜阳', '宿州', '六安', '亳州', '池州', '宣城'],
    '福建': ['福州', '厦门', '莆田', '三明', '泉州', '漳州', '南平', '龙岩', '宁德'],
    '江西': ['南昌', '景德镇', '萍乡', '九江', '新余', '鹰潭', '赣州', '吉安', '宜春', '抚州', '上饶'],
    '山东': ['济南', '青岛', '淄博', '枣庄', '东营', '烟台', '潍坊', '济宁', '泰安', '威海', '日照', '莱芜', '临沂', '德州', '聊城', '滨州', '菏泽'],
    '河南': ['郑州', '开封', '洛阳', '平顶山', '安阳', '鹤壁', '新乡', '焦作', '濮阳', '许昌', '漯河', '三门峡', '南阳', '商丘', '信阳', '周口', '驻马店', '济源'],
    '湖北': ['武汉', '黄石', '十堰', '宜昌', '襄阳', '鄂州', '荆门', '孝感', '荆州', '黄冈', '咸宁', '随州', '恩施州', '仙桃', '潜江', '天门', '神农架林区'],
    '湖南': ['长沙', '株洲', '湘潭', '衡阳', '邵阳', '岳阳', '常德', '张家界', '益阳', '郴州', '永州', '怀化', '娄底', '湘西州'],
    '广东': ['广州', '韶关', '深圳', '珠海', '汕头', '佛山', '江门', '湛江', '茂名', '肇庆', '惠州', '梅州', '汕尾', '河源', '阳江', '清远', '东莞', '中山', '潮州', '揭阳', '云浮'],
    '广西': ['南宁', '柳州', '桂林', '梧州', '北海', '防城港', '钦州', '贵港', '玉林', '百色', '贺州', '河池', '来宾', '崇左'],
    '海南': ['海口', '三亚', '儋州', '五指山', '琼海', '文昌', '万宁', '东方', '定安县', '屯昌县', '澄迈县', '临高县', '白沙县', '昌江县', '乐东县', '陵水县', '保亭县', '琼中县'],
    '重庆': ['重庆'],
    '四川': ['成都', '自贡', '攀枝花', '泸州', '德阳', '绵阳', '广元', '遂宁', '内江', '乐山', '南充', '眉山', '宜宾', '广安', '达州', '雅安', '巴中', '资阳', '阿坝州', '甘孜州', '凉山州'],
    '贵州': ['贵阳', '六盘水', '遵义', '安顺', '毕节', '铜仁', '黔西南州', '黔东南州', '黔南州'],
    '云南': ['昆明', '曲靖', '玉溪', '保山', '昭通', '丽江', '普洱', '临沧', '楚雄州', '红河州', '文山州', '西双版纳州', '大理州', '德宏州', '怒江州', '迪庆州'],
    '西藏': ['拉萨', '日喀则', '昌都', '林芝', '山南', '那曲', '阿里地区'],
    '陕西': ['西安', '铜川', '宝鸡', '咸阳', '渭南', '延安', '汉中', '榆林', '安康', '商洛'],
    '甘肃': ['兰州', '嘉峪关', '金昌', '白银', '天水', '武威', '张掖', '平凉', '酒泉', '庆阳', '定西', '陇南', '临夏州', '甘南州'],
    '青海': ['西宁', '海东', '海北州', '黄南州', '海南州', '果洛州', '玉树州', '海西州'],
    '宁夏': ['银川', '石嘴山', '吴忠', '固原', '中卫'],
    '新疆': ['乌鲁木齐', '克拉玛依', '吐鲁番', '哈密', '昌吉州', '博尔塔拉州', '巴音郭楞州', '阿克苏地区', '克孜勒州', '喀什地区', '和田地区', '伊犁州', '塔城地区', '阿勒泰地区', '石河子', '阿拉尔', '图木舒克', '五家渠', '北屯', '双河'],
    '台湾': ['新北市', '高雄市', '台中市', '台北市', '桃园市', '台南市', '彰化县', '屏东县', '云林县', '苗栗县', '新竹县', '嘉义县', '南投县', '宜兰县', '新竹市', '基隆市', '花莲县', '嘉义市', '台东县', '金门县', '澎湖县', '连江县'],
    '香港': ['香港'],
    '澳门': ['澳门'],
  },
  '安道尔': [],
  '阿联酋': [],
  '阿富汗': [],
  '安提瓜和巴布达': [],
  '安圭拉': [],
  '阿尔巴尼亚': [],
  '亚美尼亚': [],
  '安哥拉': [],
  '南极洲': [],
  '阿根廷': [],
  '美属萨摩亚': [],
  '奥地利': [],
  '澳大利亚': [],
  '阿鲁巴': [],
  '奥兰群岛': [],
  '阿塞拜疆': [],
  '波斯尼亚和黑塞哥维那': [],
  '巴巴多斯': [],
  '孟加拉': [],
  '比利时': [],
  '布基纳法索': [],
  '保加利亚': [],
  '巴林': [],
  '布隆迪': [],
  '贝宁': [],
  '圣巴泰勒米': [],
  '百慕大': [],
  '文莱': [],
  '玻利维亚': [],
  '荷兰加勒比': [],
  '巴西': [],
  '巴哈马': [],
  '不丹': [],
  '博茨瓦纳': [],
  '白俄罗斯': [],
  '伯利兹': [],
  '加拿大': [],
  '刚果民主共和国': [],
  '中非': [],
  '刚果共和国': [],
  '瑞士': [],
  '科特迪瓦': [],
  '库克群岛': [],
  '智利': [],
  '喀麦隆': [],
  '哥伦比亚': [],
  '哥斯达黎加': [],
  '古巴': [],
  '佛得角': [],
  '库拉索': [],
  '圣诞岛': [],
  '塞浦路斯': [],
  '捷克': [],
  '德国': [],
  '吉布提': [],
  '丹麦': [],
  '多米尼克': [],
  '多米尼加': [],
  '阿尔及利亚': [],
  '厄瓜多尔': [],
  '爱沙尼亚': [],
  '埃及': [],
  '厄立特里亚': [],
  '西班牙': [],
  '埃塞俄比亚': [],
  '芬兰': [],
  '斐济': [],
  '福克兰群岛': [],
  '密克罗尼西亚联邦': [],
  '法罗群岛': [],
  '法国': [],
  '加蓬': [],
  '英国': [],
  '格林纳达': [],
  '格鲁吉亚': [],
  '法属圭亚那': [],
  '根西岛': [],
  '加纳': [],
  '直布罗陀': [],
  '格陵兰': [],
  '冈比亚': [],
  '几内亚': [],
  '瓜德罗普': [],
  '赤道几内亚': [],
  '希腊': [],
  '危地马拉': [],
  '关岛': [],
  '几内亚比绍': [],
  '圭亚那': [],
  '中国-香港': [],
  '洪都拉斯': [],
  '克罗地亚': [],
  '海地': [],
  '匈牙利': [],
  '印度尼西亚': [],
  '爱尔兰': [],
  '以色列': [],
  '马恩岛': [],
  '印度': [],
  '英属印度洋领地': [],
  '伊拉克': [],
  '伊朗': [],
  '冰岛': [],
  '意大利': [],
  '泽西岛': [],
  '牙买加': [],
  '约旦': [],
  '日本': [],
  '肯尼亚': [],
  '吉尔吉斯斯坦': [],
  '柬埔寨': [],
  '基里巴斯': [],
  '科摩罗': [],
  '圣基茨和尼维斯': [],
  '朝鲜': [],
  '韩国': [],
  '科威特': [],
  '开曼群岛': [],
  '哈萨克斯坦': [],
  '老挝': [],
  '黎巴嫩': [],
  '圣卢西亚': [],
  '列支敦士登': [],
  '斯里兰卡': [],
  '利比里亚': [],
  '莱索托': [],
  '立陶宛': [],
  '卢森堡': [],
  '拉脱维亚': [],
  '利比亚': [],
  '摩洛哥': [],
  '摩纳哥': [],
  '摩尔多瓦': [],
  '黑山': [],
  '法属圣马丁': [],
  '马达加斯加': [],
  '马绍尔群岛': [],
  '马其顿': [],
  '马里': [],
  '缅甸': [],
  '蒙古': [],
  '北马里亚纳群岛': [],
  '马提尼克': [],
  '毛里塔尼亚': [],
  '蒙特塞拉特岛': [],
  '马耳他': [],
  '毛里求斯': [],
  '马尔代夫': [],
  '马拉维': [],
  '墨西哥': [],
  '马来西亚': [],
  '莫桑比克': [],
  '纳米比亚': [],
  '新喀里多尼亚': [],
  '尼日尔': [],
  '诺福克岛': [],
  '尼日利亚': [],
  '尼加拉瓜': [],
  '荷兰': [],
  '挪威': [],
  '尼泊尔': [],
  '瑙鲁': [],
  '纽埃': [],
  '新西兰': [],
  '阿曼': [],
  '巴拿马': [],
  '秘鲁': [],
  '法属波利尼西亚': [],
  '巴布亚新几内亚': [],
  '菲律宾': [],
  '巴基斯坦': [],
  '波兰': [],
  '圣皮埃尔和密克隆群岛': [],
  '波多黎各': [],
  '巴勒斯坦': [],
  '葡萄牙': [],
  '帕劳': [],
  '巴拉圭': [],
  '卡塔尔': [],
  '留尼汪岛': [],
  '罗马尼亚': [],
  '塞尔维亚': [],
  '俄罗斯': [],
  '卢旺达': [],
  '沙特阿拉伯': [],
  '所罗门群岛': [],
  '塞舌尔': [],
  '苏丹': [],
  '瑞典': [],
  '新加坡': [],
  '斯洛文尼亚': [],
  '斯洛伐克': [],
  '塞拉利昂': [],
  '圣马力诺': [],
  '塞内加尔': [],
  '索马里': [],
  '苏里南': [],
  '南苏丹': [],
  '圣多美和普林西比': [],
  '萨尔瓦多': [],
  '荷属圣马丁': [],
  '叙利亚': [],
  '斯威士兰': [],
  '特克斯和凯科斯群岛': [],
  '乍得': [],
  '多哥': [],
  '泰国': [],
  '塔吉克斯坦': [],
  '托克劳': [],
  '东帝汶': [],
  '土库曼斯坦': [],
  '突尼斯': [],
  '汤加': [],
  '土耳其': [],
  '特立尼达和多巴哥': [],
  '图瓦卢': [],
  '坦桑尼亚': [],
  '乌克兰': [],
  '乌干达': [],
  '美国': [],
  '乌拉圭': [],
  '乌兹别克斯坦': [],
  '梵蒂冈': [],
  '圣文森特和格林纳丁斯': [],
  '委内瑞拉': [],
  '英属维尔京群岛': [],
  '美属维尔京群岛': [],
  '越南': [],
  '瓦努阿图': [],
  '瓦利斯和富图纳群岛': [],
  '萨摩亚': [],
  '科索沃': [],
  '也门': [],
  '马约特': [],
  '南非': [],
  '赞比亚': [],
  '津巴布韦': [],
  '亚太地区': [],
  '北美地区': [],
  '拉美地区': [],
  '非洲地区': [],
  '欧洲地区': [],
  '非洲地区': [],
  'IANA': [],
}

const chinakeyword = [
  '中国', '省', '市', ...Object.keys(isos['中国']),
]

const isps = [
  '中华电信',
  '电信',
  '联通',
  '移动',
  '教育网',
  '广电网',
]

module.exports = (country, area) => {

  for (let keyword of chinakeyword) {
    if (country.includes(keyword)) {
      area = country + area
      country = '中国'
      break
    }
  }

  let result = {
    country,
    area,
    country_name: '',
    region_name: '',
    city_name: '',
    owner_domain: '',
    isp_domain: '',
    format: true,
  }

  if (isos[country]) {
    result.country_name = country
    result.region_name = country

    let regions = isos[country], citys = []
    for (let [region, value] of Object.entries(regions)) {
      if (area.includes(region)) {
        result.region_name = region
        citys = value
        break
      }
    }

    for (let city of citys) {
      if (area.includes(city)) {
        result.city_name = city
        break
      }
    }
  }

  if (result.country_name === '') {
    result.country_name = country
    result.region_name = area
    result.format = false
  }

  for (let isp of isps) {
    if (area.includes(isp)) {
      result.isp_domain = isp
      break
    }
  }

  return result
}
